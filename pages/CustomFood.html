<!DOCTYPE html>
<html>
  <html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Starter Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/my-bootstrap-nav.css" rel="stylesheet">
	<!--自制左侧菜单栏源文件引入-->
	<link rel="stylesheet" type="text/css" href="css/nav.css">
	<link rel="stylesheet" type="text/css" href="fonts/iconfont.css">
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/nav.js"></script>

    <!-- Custom styles for this template -->
    <link href="css/starter-template.css" rel="stylesheet">
	<!--
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    -->
	
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  <meta name="generator" content="Hexo 4.2.0"></head>
  </html>
  
  <body>
  
    <main class="main">
      <article class="post">
	
  <body>
  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
		  <!--
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
		  -->
          <div class="navbar-brand" id="normal"><span class="pos"><img src="images/mini.png"></span></div>>
		  
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">待加入</a></li>
            <li><a href="#about">待加入</a></li>
            <li><a href="#contact">待加入</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div><!--navbar-->

	<div class="hole-div">   <!--除导航栏外，把整个内容包裹在里面-->
	<div class="my-nav">

	  <ul>
		<li class="nav-item">
		  <a href="#"><span class="my-icon icon_1"></span><span class="tile-text">网站配置</span><i class="my-icon nav-more"></i></a>
		  <ul>
			<li><a href="#"><span>网站设置</span></a></li>
			<li><a href="#"><span>友情链接</span></a></li>
			<li><a href="#"><span>分类管理</span></a></li>
			<li><a href="#"><span>系统日志</span></a></li>
		  </ul>
		</li>
		<li class="nav-item">
		  <a href="#"><span class="my-icon icon_2"></span><span class="tile-text">文章</span><i class="my-icon nav-more"></i></a>
		  <ul>
			<li><a href="#"><span>站内新闻</span></a></li>
			<li><a href="#"><span>站内公告</span></a></li>
			<li><a href="#"><span>登录日志</span></a></li>
		  </ul>
		</li>
		<!--
		<li class="nav-item">
		  <a href="#"><span class="my-icon icon_3"></span><span class="tile-text">订单管理</span><i class="my-icon nav-more"></i></a>
		  <ul>
			<li><a href="#"><span>订单列表</span></a></li>
			<li><a href="#"><span>打个酱油</span></a></li>
			<li><a href="#"><span>也打酱油</span></a></li>
		  </ul>
		</li>
		-->
	  </ul>
	</div>
	
	<div class="free-area">, <!--点击此区域可收起菜单栏-->
    <div class="container">

      <div class="blog-header">
			<h1 class="blog-title">Custom Food</h1>
			<p class="lead blog-description">The official example template of creating a blog with Bootstrap.</p>
			<span class="post-time">2020-04-13</span>
      </div>

      <div class="row">

        <div class="col-sm-11 blog-main">

            <div class="post-content">
				<h3 id="Minecraft-1-12-modding-with-forge-–-8-–-Custom-food"><a href="#Minecraft-1-12-modding-with-forge-–-8-–-Custom-food" class="headerlink" title="Minecraft 1.12 modding with forge – 8 – Custom food"></a>Minecraft 1.12 modding with forge – 8 – Custom food</h3><p>Hello everyone,</p>
<p>in this part I will show you how to make custom food and how to make food that gives effects when eaten.</p>
<hr>
<p>Making a custom food item is almost the same as making a normal item, except you extend <em>ItemFood_instead of _Item</em>.<br>Create a new class in the <em>items</em>  package, I will call it <em>ItemCustomFood</em>. Create a constructor that takes a <em>String</em>  for the name, an <em>int</em> for the amount of food it fills, a <em>float</em>  for the saturation and a <em>boolean</em>  which is true when a wolf can eat it.</p>
<hr>
<p>In the constructor call <em>super</em>  with the amount, saturation and whether it is wolf food. Also call <em>setUnlocalizedName</em>  and <em>setRegistryName</em>  just like a normal item.</p>
<p><sub><a href="https://gist.github.com/suppergerrie2/15d9df0cffb2643421f358f087c4041b#file-itemcustomfood" target="_blank" rel="noopener">ItemCustomFood.java</a></sub></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ItemCustomFood</span> <span class="keyword">extends</span> <span class="title">ItemFood</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ItemCustomFood</span><span class="params">(String name, <span class="keyword">int</span> amount, <span class="keyword">float</span> saturation, <span class="keyword">boolean</span> isWolfFood)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">super</span>(amount, saturation, isWolfFood);</span><br><span class="line"></span><br><span class="line">		setUnlocalizedName(name);</span><br><span class="line"></span><br><span class="line">		setRegistryName(name);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Now we can add it to our <em>ModItems</em>  class. This is <em>almost</em>  the same as with a normal item, except you use <em>ItemCustomFood</em>  instead of <em>ItemBasic</em>. You also have to pass the custom food’s values like: The amount it fills, the staturation and whether a wolf can eat it. I will also set the  <em>creativeTab</em>  for it. I called mine <em>tutorialApple.</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tutorialApple = <span class="keyword">new</span> ItemCustomFood(<span class="string">"tutorialApple"</span>, <span class="number">5</span>, <span class="number">0.3f</span>, <span class="keyword">false</span>).setCreativeTab(CreativeTabs.FOOD);</span><br></pre></td></tr></table></figure>

<p>Don’t forget to register it just like the other items! Adding a model/texture is exactly the same as with a normal item.</p>
<p>An food item that gives you a custom effect (like an golden apple) is quite easy once you created a food item. Create a new class, I will call it <em>ItemEffectFood</em>  and make it extend your <em>ItemCustomFood</em>  class. Add the constructor and call the  <em>super</em> constructor. If you want to make your food edible when the player has no hunger, call  <em>setAlwaysEdible__()</em>. Now to add the effects when eaten you have to override the <em>onFoodEaten</em> method:</p>
<p><sub><a href="https://gist.github.com/suppergerrie2/273fbd4fc74071cde5f3e215a436d40d#file-itemeffectfood-java" target="_blank" rel="noopener">ItemEffectFood.java</a></sub></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onFoodEaten</span><span class="params">(ItemStack stack, World worldIn, EntityPlayer player)</span> </span>&#123; &#125;</span><br></pre></td></tr></table></figure>

<p>The first thing we should do is check whether this is the client or the server calling the method, we should only add the effects when <em>worldIn.isRemote</em> is <em>false</em>. When you add effects on the client side desyncs can happen. After the check add an effect to the player by calling <em>addPotionEffect</em> on the player object. <em>addPotionEffect</em> takes a <em>PotionEffect</em>, create a new <em>PotionEffect</em> object, this takes an effect, the time it will last, the amplifier, whether it is a beacon effect and if the particles should show or not. For a vanilla effect you can get one from <em>MobEffects</em>. For example: <em>MobEffects.JUMP_BOOST</em>.</p>
<p><sub><a href="https://gist.github.com/suppergerrie2/00d8030cbef0ee7995117829a342278b#file-itemeffectfood-java" target="_blank" rel="noopener">ItemEffectFood.java</a></sub></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onFoodEaten</span><span class="params">(ItemStack stack, World worldIn, EntityPlayer player)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(!worldIn.isRemote) &#123;</span><br><span class="line"></span><br><span class="line">		player.addPotionEffect(<span class="keyword">new</span> PotionEffect(MobEffects.JUMP_BOOST, <span class="number">60</span>*<span class="number">20</span>, <span class="number">5</span>, <span class="keyword">false</span>, <span class="keyword">true</span>));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>For more effects just call <em>addPotionEffect</em> again.</p>
<p>To make it glow just like an golden apple or an enchanted item override <em>hasEffect</em>. But this only exists on the client side so we have to add <em>@SideOnly(Side.CLIENT)</em>. This makes sure this doesn’t get activated on the server. After overriding the method just return <em>true</em>  and your item will have the “glow” effect.</p>
<p><sub><a href="https://gist.github.com/suppergerrie2/aa5abef797684436747800a6db7e05d6#file-itemeffectfood-java" target="_blank" rel="noopener">ItemEffectFood.java</a></sub></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SideOnly</span>(Side.CLIENT)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasEffect</span><span class="params">(ItemStack stack)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Now you can just instantiate it like we did before but now with <em>ItemEffectFood</em> instead of <em>ItemCustomFood</em>.<br>Adding a texture and model is the same as with a normal <em>item</em>. I will use the same texture for both <em>Items</em>:<br><img src="http://suppergerrie2.com/wp-content/uploads/2017/09/tutorialfood.png" alt=""></p>
<p><sub><a href="https://gist.github.com/suppergerrie2/3ccaa001fe6bce8b58737f5ced38f947#file-itemcustomfood-java" target="_blank" rel="noopener">ItemCustomFood.java</a></sub></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ItemCustomFood</span> <span class="keyword">extends</span> <span class="title">ItemFood</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ItemCustomFood</span><span class="params">(String name, <span class="keyword">int</span> amount, <span class="keyword">float</span> saturation, <span class="keyword">boolean</span> isWolfFood)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">super</span>(amount, saturation, isWolfFood);</span><br><span class="line"></span><br><span class="line">		setUnlocalizedName(name);</span><br><span class="line"></span><br><span class="line">		setRegistryName(name);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>.</p>
<p><sub><a href="https://gist.github.com/suppergerrie2/9b78285bb91de7ed72930129123e7b23#file-itemeffectfood-java" target="_blank" rel="noopener">ItemEffectFood.java</a></sub></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ItemEffectFood</span> <span class="keyword">extends</span> <span class="title">ItemCustomFood</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ItemEffectFood</span><span class="params">(String name, <span class="keyword">int</span> amount, <span class="keyword">float</span> saturation, <span class="keyword">boolean</span> isWolfFood)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">super</span>(name, amount, saturation, isWolfFood);</span><br><span class="line"></span><br><span class="line">		setAlwaysEdible();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onFoodEaten</span><span class="params">(ItemStack stack, World worldIn, EntityPlayer player)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(!worldIn.isRemote) &#123;</span><br><span class="line"></span><br><span class="line">			player.addPotionEffect(<span class="keyword">new</span> PotionEffect(MobEffects.JUMP_BOOST, <span class="number">60</span>*<span class="number">20</span>, <span class="number">5</span>, <span class="keyword">false</span>, <span class="keyword">true</span>));</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">	<span class="meta">@SideOnly</span>(Side.CLIENT)</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasEffect</span><span class="params">(ItemStack stack)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>That was everything for this part, I know this part is a week too late but school started again so I have less time. As always if you have any question don’t hesitate to ask in the comments! Also if you saw any errors in the tutorial please let me know so I can fix it!</p>

			</div>
			
			</div>

      </div><!-- /.row -->

    </div><!-- /.container -->
	</div>
	
 </body>
</article>
    </main>
	</div>
	
	<div class="free-area">
	<div class="blog-footer">
		<p>by <a href="">蓝兔</a> </p>
	</div>
	</div>
	<!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
